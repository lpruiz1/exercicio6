<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Aluguel de Veículos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h2>Formulário de Aluguel de Veículos</h2>
        <form>
            <!-- Tipo do veículo -->
            <div class="mb-3">
                <label for="tipoVeiculo" class="form-label">Tipo do veículo</label>
                <select class="form-select" id="tipoVeiculo" name="tipoVeiculo" onchange="mostrarCilindrada()">
                    <option value="carro">Carro</option>
                    <option value="moto">Motocicleta</option>
                </select>
            </div>

            <!-- Nome do veículo -->
            <div class="mb-3">
                <label for="nomeVeiculo" class="form-label">Nome do veículo</label>
                <input type="text" class="form-control" id="nomeVeiculo" name="nomeVeiculo" placeholder="Digite o nome do veículo" required>
            </div>

            <!-- Ano do veículo -->
            <div class="mb-3">
                <label for="anoVeiculo" class="form-label">Ano do veículo</label>
                <input type="number" class="form-control" id="anoVeiculo" name="anoVeiculo" placeholder="Digite o ano do veículo" required>
            </div>

            <!-- Custo da diária -->
            <div class="mb-3">
                <label for="custoDiaria" class="form-label">Custo da diária (R$)</label>
                <input type="number" class="form-control" id="custoDiaria" name="custoDiaria" placeholder="Digite o valor da diária" required>
            </div>

            <!-- Tipo de combustível -->
            <div class="mb-3">
                <label class="form-label">Tipo de combustível</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="combustivel" id="etanol" value="etanol" required>
                    <label class="form-check-label" for="etanol">Etanol</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="combustivel" id="gasolina" value="gasolina">
                    <label class="form-check-label" for="gasolina">Gasolina Comum</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="combustivel" id="alcool" value="alcool">
                    <label class="form-check-label" for="alcool">Álcool</label>
                </div>
            </div>

            <!-- Cilindrada (apenas para motocicleta) -->
            <div class="mb-3" id="cilindradaGroup" style="display: none;">
                <label for="cilindrada" class="form-label">Cilindrada</label>
                <input type="number" class="form-control" id="cilindrada" name="cilindrada" placeholder="Digite a cilindrada da motocicleta">
            </div>

            <!-- Botão de envio -->
             <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">Cadastrar Veículo</button>
                <a href="veiculos.html" class="btn btn-secondary">Ver Veículos Cadastrados</a>
             </div>
        </form>

        
    </div>

    <script>
        function mostrarCilindrada() {
            const tipoVeiculo = document.getElementById('tipoVeiculo').value;
            const cilindradaGroup = document.getElementById('cilindradaGroup');
            
            if (tipoVeiculo === 'moto') {
                cilindradaGroup.style.display = 'block';
            } else {
                cilindradaGroup.style.display = 'none';
            }
        }

        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault(); 

            const tipoVeiculo = document.getElementById('tipoVeiculo').value;
            const nomeVeiculo = document.getElementById('nomeVeiculo').value;
            const anoVeiculo = document.getElementById('anoVeiculo').value;
            const cilindrada = document.getElementById('cilindrada').value || null;
            const combustivel = document.querySelector('input[name="combustivel"]:checked').value;
            const valorDiaria = document.getElementById('custoDiaria').value;


            const veiculo = {
                tipo: tipoVeiculo,
                nome: nomeVeiculo,
                ano: anoVeiculo,
                cilindrada: cilindrada,
                combustivel: combustivel,
                valor: valorDiaria
            };

            // Obter a lista de veículos do localStorage
            let veiculos = JSON.parse(localStorage.getItem('veiculos')) || [];

            // Adicionar o novo veículo à lista
            veiculos.push(veiculo);

            // Salvar a lista atualizada no localStorage
            localStorage.setItem('veiculos', JSON.stringify(veiculos));

            // Redirecionar para a página de veículos cadastrados
            window.location.href = 'veiculos.html';
        });
    </script>
</body>
</html>
